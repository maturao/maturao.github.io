import ce from"./t7_ATsDk.js";import{e as E,m as de,f as fe,g as pe,c as d,o as c,a as b,t as x,h as P,i as m,v as V,j as R,k as o,l as be,r as B,n as me,p as _,d as ye,b as X,q as T,F as k,s as M,x as F,w as W,y as ge,T as ve,z as Te}from"./D4OieL_N.js";import{_ as he}from"./DlAUqK2U.js";const je={class:"field"},_e={class:"label"},xe={class:"control"},Ae=["placeholder"],$e=["placeholder"],Ie=E({inheritAttrs:!1,__name:"TextInput",props:de({label:{},placeholder:{},type:{default:"text"}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=fe(e,"modelValue"),n=pe();return(r,u)=>(c(),d("div",je,[b("label",_e,x(r.label),1),b("div",xe,[r.type=="text"?P((c(),d("input",R({key:0,"onUpdate:modelValue":u[0]||(u[0]=a=>t.value=a),placeholder:r.placeholder??r.label,class:"input",type:"text"},o(n)),null,16,Ae)),[[V,t.value]]):r.type=="textarea"?P((c(),d("textarea",R({key:1,"onUpdate:modelValue":u[1]||(u[1]=a=>t.value=a),placeholder:r.placeholder??r.label,class:"textarea"},o(n)),null,16,$e)),[[V,t.value]]):m("",!0)])]))}}),Y=[{type:"define",label:"Define"},{type:"label",label:"Label"},{type:"cupping",label:"Cup"}],J=(e,t,n)=>{e[t]=n(e[t])},w=(e,t,n)=>e.forEach((r,u)=>J(r,t,a=>n(a,u))),Ce=(e,t,n)=>w(e,t,()=>n);var Q=typeof global=="object"&&global&&global.Object===Object&&global,Oe=typeof self=="object"&&self&&self.Object===Object&&self,Z=Q||Oe||Function("return this")(),A=Z.Symbol,z=Object.prototype,Se=z.hasOwnProperty,ke=z.toString,v=A?A.toStringTag:void 0;function Me(e){var t=Se.call(e,v),n=e[v];try{e[v]=void 0;var r=!0}catch{}var u=ke.call(e);return r&&(t?e[v]=n:delete e[v]),u}var we=Object.prototype,Ee=we.toString;function Pe(e){return Ee.call(e)}var Ve="[object Null]",Re="[object Undefined]",N=A?A.toStringTag:void 0;function I(e){return e==null?e===void 0?Re:Ve:N&&N in Object(e)?Me(e):Pe(e)}function C(e){return e!=null&&typeof e=="object"}var Be="[object Symbol]";function Fe(e){return typeof e=="symbol"||C(e)&&I(e)==Be}function Ne(e,t){for(var n=-1,r=e==null?0:e.length,u=Array(r);++n<r;)u[n]=t(e[n],n,e);return u}var ee=Array.isArray,Ue=/\s/;function Le(e){for(var t=e.length;t--&&Ue.test(e.charAt(t)););return t}var Ge=/^\s+/;function De(e){return e&&e.slice(0,Le(e)+1).replace(Ge,"")}function $(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var U=NaN,qe=/^[-+]0x[0-9a-f]+$/i,He=/^0b[01]+$/i,Ke=/^0o[0-7]+$/i,Xe=parseInt;function te(e){if(typeof e=="number")return e;if(Fe(e))return U;if($(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=De(e);var n=He.test(e);return n||Ke.test(e)?Xe(e.slice(2),n?2:8):qe.test(e)?U:+e}var We=1/0,Ye=17976931348623157e292;function h(e){if(!e)return e===0?e:0;if(e=te(e),e===We||e===-1/0){var t=e<0?-1:1;return t*Ye}return e===e?e:0}var Je="[object AsyncFunction]",Qe="[object Function]",Ze="[object GeneratorFunction]",ze="[object Proxy]";function et(e){if(!$(e))return!1;var t=I(e);return t==Qe||t==Ze||t==Je||t==ze}function tt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var nt=9007199254740991,rt=/^(?:0|[1-9]\d*)$/;function ne(e,t){var n=typeof e;return t=t??nt,!!t&&(n=="number"||n!="symbol"&&rt.test(e))&&e>-1&&e%1==0&&e<t}function ot(e,t){return e===t||e!==e&&t!==t}var at=9007199254740991;function re(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=at}function oe(e){return e!=null&&re(e.length)&&!et(e)}function st(e,t,n){if(!$(n))return!1;var r=typeof t;return(r=="number"?oe(n)&&ne(t,n.length):r=="string"&&t in n)?ot(n[t],e):!1}var lt=Object.prototype;function it(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||lt;return e===n}function ut(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ct="[object Arguments]";function L(e){return C(e)&&I(e)==ct}var ae=Object.prototype,dt=ae.hasOwnProperty,ft=ae.propertyIsEnumerable,pt=L(function(){return arguments}())?L:function(e){return C(e)&&dt.call(e,"callee")&&!ft.call(e,"callee")};function bt(){return!1}var se=typeof exports=="object"&&exports&&!exports.nodeType&&exports,G=se&&typeof module=="object"&&module&&!module.nodeType&&module,mt=G&&G.exports===se,D=mt?Z.Buffer:void 0,yt=D?D.isBuffer:void 0,gt=yt||bt,vt="[object Arguments]",Tt="[object Array]",ht="[object Boolean]",jt="[object Date]",_t="[object Error]",xt="[object Function]",At="[object Map]",$t="[object Number]",It="[object Object]",Ct="[object RegExp]",Ot="[object Set]",St="[object String]",kt="[object WeakMap]",Mt="[object ArrayBuffer]",wt="[object DataView]",Et="[object Float32Array]",Pt="[object Float64Array]",Vt="[object Int8Array]",Rt="[object Int16Array]",Bt="[object Int32Array]",Ft="[object Uint8Array]",Nt="[object Uint8ClampedArray]",Ut="[object Uint16Array]",Lt="[object Uint32Array]",i={};i[Et]=i[Pt]=i[Vt]=i[Rt]=i[Bt]=i[Ft]=i[Nt]=i[Ut]=i[Lt]=!0;i[vt]=i[Tt]=i[Mt]=i[ht]=i[wt]=i[jt]=i[_t]=i[xt]=i[At]=i[$t]=i[It]=i[Ct]=i[Ot]=i[St]=i[kt]=!1;function Gt(e){return C(e)&&re(e.length)&&!!i[I(e)]}function Dt(e){return function(t){return e(t)}}var le=typeof exports=="object"&&exports&&!exports.nodeType&&exports,j=le&&typeof module=="object"&&module&&!module.nodeType&&module,qt=j&&j.exports===le,S=qt&&Q.process,q=function(){try{var e=j&&j.require&&j.require("util").types;return e||S&&S.binding&&S.binding("util")}catch{}}(),H=q&&q.isTypedArray,Ht=H?Dt(H):Gt,Kt=Object.prototype,Xt=Kt.hasOwnProperty;function Wt(e,t){var n=ee(e),r=!n&&pt(e),u=!n&&!r&&gt(e),a=!n&&!r&&!u&&Ht(e),p=n||r||u||a,y=p?ut(e.length,String):[],s=y.length;for(var l in e)Xt.call(e,l)&&!(p&&(l=="length"||u&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ne(l,s)))&&y.push(l);return y}function Yt(e,t){return function(n){return e(t(n))}}var Jt=Yt(Object.keys,Object),Qt=Object.prototype,Zt=Qt.hasOwnProperty;function zt(e){if(!it(e))return Jt(e);var t=[];for(var n in Object(e))Zt.call(e,n)&&n!="constructor"&&t.push(n);return t}function en(e){return oe(e)?Wt(e):zt(e)}var tn=Math.max,nn=Math.min;function rn(e,t,n){return e>=nn(t,n)&&e<tn(t,n)}function on(e,t,n){return t=h(t),n===void 0?(n=t,t=0):n=h(n),e=te(e),rn(e,t,n)}function an(e,t){return Ne(t,function(n){return e[n]})}function sn(e){return e==null?[]:an(e,en(e))}var ln=Math.floor,un=Math.random;function cn(e,t){return e+ln(un()*(t-e+1))}var dn=Math.ceil,fn=Math.max;function pn(e,t,n,r){for(var u=-1,a=fn(dn((t-e)/(n||1)),0),p=Array(a);a--;)p[++u]=e,e+=n;return p}function bn(e){return function(t,n,r){return r&&typeof r!="number"&&st(t,n,r)&&(n=r=void 0),t=h(t),n===void 0?(n=t,t=0):n=h(n),r=r===void 0?t<n?1:-1:h(r),pn(t,n,r)}}var mn=bn();function ie(e,t){var n=-1,r=e.length,u=r-1;for(t=t===void 0?r:t;++n<t;){var a=cn(n,u),p=e[a];e[a]=e[n],e[n]=p}return e.length=t,e}function yn(e){return ie(tt(e))}function gn(e){return ie(sn(e))}function K(e){var t=ee(e)?yn:gn;return t(e)}const vn=(e,t)=>J(e,"value",t),ue=be("cupping",()=>{const e=B([]),t=B(Y[0]),n=()=>w(e.value,"order",(l,g)=>g+1),r=(l,g="")=>e.value.push({id:crypto.randomUUID(),order:e.value.length+1,label:g,variables:l,revealed:!1}),u=(l,g)=>{const f=l+g;if(!on(f,0,e.value.length))return;const[O]=e.value.splice(l,1);e.value.splice(f,0,O),t.value.type=="define"&&n()},a=l=>{e.value.splice(l,1),n()},p=()=>{const l=K("ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""));w(e.value,"label",(g,f)=>l[f%l.length])},y=()=>vn(e,K),s=l=>Ce(e.value,"revealed",l);return me(t,()=>s(!1)),{cups:e,selectedMode:t,addCup:r,removeCup:a,moveCup:u,autoLabel:p,autoScramble:y,revealAll:s}}),Tn={class:"column is-narrow",style:{width:"290px"}},hn={class:"card"},jn={class:"card-header"},_n={class:"card-header-title"},xn={class:"icon"},An={class:"card-content"},$n={class:"content"},In={class:"card-footer"},Cn=E({__name:"CupItem",props:{cupIdx:{}},setup(e){const t=ue(),n=_(()=>t.selectedMode.type),r=_(()=>t.cups[e.cupIdx]),u=_(()=>[["label","cupping"].includes(n.value)?r.value.label:void 0,"Cup",n.value=="label"||r.value.revealed?"#"+r.value.order:void 0].filter(y=>y).join(" ")),a=()=>{t.removeCup(e.cupIdx)},p=y=>{t.moveCup(e.cupIdx,y)};return(y,s)=>{const l=ce,g=Ie;return c(),d("div",Tn,[b("div",hn,[b("header",jn,[b("p",_n,[b("span",xn,[X(l,{name:"material-symbols:coffee",size:"1.2em"})]),ye(" "+x(o(u)),1)])]),b("div",An,[b("div",$n,[["label","cupping"].includes(o(n))||o(r).revealed?(c(),T(g,{key:0,modelValue:o(r).label,"onUpdate:modelValue":s[0]||(s[0]=f=>o(r).label=f),label:"Label",disabled:o(n)!="label"},null,8,["modelValue","disabled"])):m("",!0),o(n)=="define"||o(r).revealed?(c(!0),d(k,{key:1},M(o(r).variables,f=>(c(),T(g,{key:f.name,modelValue:f.value,"onUpdate:modelValue":O=>f.value=O,label:f.name},null,8,["modelValue","onUpdate:modelValue","label"]))),128)):m("",!0),o(n)=="cupping"?(c(),T(g,{key:2,label:"Note",type:"textarea"})):m("",!0)])]),b("footer",In,[["define","label"].includes(o(n))?(c(),d("a",{key:0,class:"card-footer-item",onClick:s[1]||(s[1]=f=>p(-1))}," < ")):m("",!0),o(n)=="define"?(c(),d("a",{key:1,class:"card-footer-item",onClick:s[2]||(s[2]=F(f=>a(),["prevent"]))}," Remove ")):m("",!0),o(n)=="cupping"?(c(),d("a",{key:2,class:"card-footer-item",onClick:s[3]||(s[3]=F(f=>o(r).revealed=!o(r).revealed,["prevent"]))},x(o(r).revealed?"Hide":"Reveal"),1)):m("",!0),["define","label"].includes(o(n))?(c(),d("a",{key:3,class:"card-footer-item",onClick:s[4]||(s[4]=f=>p(1))}," > ")):m("",!0)])])])}}}),On={};function Sn(e,t){return c(),T(ve,{name:"columns-transition",class:"columns is-multiline",tag:"div"},{default:W(()=>[ge(e.$slots,"default",{},void 0,!0)]),_:3})}const kn=he(On,[["render",Sn],["__scopeId","data-v-f38389af"]]),Mn={class:"box"},wn={class:"buttons"},En=["onClick"],Pn={class:"box"},Vn={class:"buttons"},Rn=3,Un=E({__name:"cup",setup(e){const t=ue(),n=_(()=>t.selectedMode.type),r=()=>{t.addCup([{name:"Grinder"},{name:"Grind size"}])};return t.cups.length==0&&mn(Rn).forEach(()=>r()),(u,a)=>{const p=Cn,y=kn;return c(),d("div",null,[b("div",Mn,[b("div",wn,[(c(!0),d(k,null,M(o(Y),s=>(c(),d("button",{key:s.type,class:Te(["button",{"is-primary":s.type==o(t).selectedMode.type}]),onClick:l=>o(t).selectedMode=s},x(s.label),11,En))),128))])]),b("div",Pn,[b("div",Vn,[o(n)=="define"?(c(),d("button",{key:0,class:"button",onClick:a[0]||(a[0]=s=>r())}," Add cup ")):m("",!0),o(n)=="label"?(c(),d("button",{key:1,class:"button",onClick:a[1]||(a[1]=s=>o(t).autoLabel())}," Autolabel ")):m("",!0),o(n)=="label"?(c(),d("button",{key:2,class:"button",onClick:a[2]||(a[2]=s=>o(t).autoScramble())}," Autoscramble ")):m("",!0),o(n)=="cupping"?(c(),d("button",{key:3,class:"button",onClick:a[3]||(a[3]=s=>o(t).revealAll(!0))}," Reveal all ")):m("",!0),o(n)=="cupping"?(c(),d("button",{key:4,class:"button",onClick:a[4]||(a[4]=s=>o(t).revealAll(!1))}," Hide all ")):m("",!0)])]),X(y,null,{default:W(()=>[(c(!0),d(k,null,M(o(t).cups,(s,l)=>(c(),T(p,{key:s.id,"cup-idx":l},null,8,["cup-idx"]))),128))]),_:1})])}}});export{Un as default};
